<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Fetch API sandbox</title>
</head>
<body>
    <button id="gettext">Get text</button>
    <button id="getusers">Get JSON</button>
    <button id="getposts">Get Posts</button>
    <hr>
    <form>
        <input id="title" placeholder="title"><br>
        <textarea id="body" placeholder="body"></textarea><br>
        <button id="btn">Submit</button>
    </form>
    <div id="output"></div>
</body>
<script>
   document.getElementById("gettext").addEventListener("click",gettext);
   document.getElementById("getusers").addEventListener("click",getusers);
   document.getElementById("getposts").addEventListener("click",getposts);
   document.getElementById("btn").addEventListener("click",getadd);
   // fetch from sample text
   
   function gettext(){
       fetch("sample.txt")
       .then((res)=> {return res.text()})
       .then((data)=>
       document.getElementById("output").innerHTML = data);
       
   }

   //fetch from json
   
   function getusers(){
       fetch("users.json")
       .then((res)=> {return res.json()})
       .then((data)=>{
           let output ="<h2>Users</h2>";
           data.forEach(user => {
               output+=
               `<ul>
               <li>ID : ${user.id}</li>
               <li>Name : ${user.name}</li>
               <li>Email : ${user.email}</li>
               </ul>`
               document.getElementById("output").innerHTML=output;
               });
       })
   }
   
// fetch from posts
   
    function getposts(){
       fetch("https://jsonplaceholder.typicode.com/posts")
       .then((res)=> res.json())
       .then((data)=>{
           let output ="<h2>Posts</h2>";
           data.forEach(user => {
               output+=
               `<ul>
               <li>USER ID : ${user.userId}</li>
               <li>ID : ${user.id}</li>
               <li>Title : ${user.title}</li>
               <li>Body : ${user.body}</li>
               
               </ul>`
               document.getElementById("output").innerHTML=output;
               });
       })
   }

   // add post

   function getadd(e){
       e.preventDefault();
       let title =document.getElementById("title").value;
       let body =document.getElementById("body").value;
       fetch("https://jsonplaceholder.typicode.com/posts",{
           method: "POST",
           headers:{},
           body :JSON.stringify({title:title,body:body})
       })
       .then(res=>res.json())
       .then(data =>console.log(data))
   }
   

</script>
</html>